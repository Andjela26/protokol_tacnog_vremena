NTP
NTP (Network Time Protokol), ili protokol tačnog vremena je protokol aplikacionog nivoa koji omogućava sinhronizaciju vremena na časovnicima umreženih računara i uređaja. Za korišćenje NTP protokola potrebno je, kao izvor tačnog vremena, imati NTP server u lokalnoj mreži ili koristiti neki od javno dostupnih NTP servera na Internetu (npr. ntp.nasa.gov). Na računaru koji se sinhroniše pokrenut je NTP klijent, koji se periodično, ili na zahtev, obraća NTP serveru i od njega dobija informaciju o tačnom vremenu. Tipično, NTP obezbeđuje tačnost sinhronizacije vremena reda desetak milisekundi, kada se sinhronizacija obavlja preko Interneta, odnosno tačnost bolju od jedne milisekunde u lokalnim računarskim mrežama. Za prenos podataka, NTP koristi usluge UDP protokola, podrazumevano na portu 123.
Za predstavljanje informacije o vremenu, kod NTP-a se koriste vremenski zapisi (timestamp) dužine 64 bita. Vreme se izražava u sekundama, u obliku X.Y s, gde su ceo, X, i razlomljeni deo, Y, dužine po 32 bita. Vremenski zapis predstavlja vreme epohe, koja se računa od 00:00h 01.01.1900. god. 
Između NTP klijenta i servera se razmenjuju paketi dužine 48 bajta. Format NTP paketa je prikazan na slici. U ovoj predstavi, paket obuhvata 32 bita po širini, odnosno 4 bajta. Paket se sastoji od više polja različite dužine i namene. Prva 4 bajta čine zaglavlje NTP paketa, koje sadrži informaciju o verziji NTP protokola, tipu paketa (klijentski ili serverski paket), karakteristikama lokalnog časovnika sl. U paketu postoji mesta za četiri vremenska zapisa. Ključan je poslednji vremenski zapis (transmit timestamp) koji sadrži lokalno vreme servera u momentu slanja NTP paket klijentu. Preostala tri vremenska zapisa se koriste za kompenzaciju greške koja nastaje usled promenljivog vremena prenosa paketa kroz mrežu.
Bez daljeg ulaženja u detalje, osnovna funkcionalnost NTP servisa se postiže tako što NTP klijent šalje NTP serveru paket fiksnog sadržaja kod kojeg prvi bajt ima vrednost 0x1B, a preostalih 47 bajtova vrednost 0. U paketu odziva, informacija o tačnom vremenu tražimo u polju Transmit Timestamp. Takođe, ako je tačnost sinhronizacije reda 1 s zadovoljavajuća, dovoljno je uzeti samo prvih 32 bita ovog vremenskog zapisa. 
 
NTP klijent
Vaš zadatak je da realizujete sat realnog vremena, koji daje informaciju o tačnom vremenu u formatu HH:MM:SS. Sat se ažurira tajmerom periode 1 s. (Svaki segment u zapisu HH:MM:SS je jedna promenljiva tipa unsigned char. Na svaku 1 s, SS se inkrementira po modulu 60; MM se inkrementira takođe po modulu 60, ali samo onda kada se SS promeni sa 59 na 0, dok se HH inkrementira po modulu 24, i to onda kada se MM promeni sa 59 na 0.) Vreme u formatu HH:MM se prikazuje na cifarskom displeju. Za podešavanje sata, potrebno je realizovati NTP klijent. Podešavanje se inicira pritiskom na taster. Radi podešavanja, potrebno je poslati paket NTP serveru, a onda iz primljenog paketa uzeti podatak o tačnom vremenu i tim podatkom ažurirati sat realnog vremena.
Od interesa su prva četiri bajta vremenskog zapisa Transmit Timestamp (tj. bajtovi 40, 41, 42 i 43 u NTP paketu). Kada se ova četiri bajta spoje u promenljivu tipa unsigned long int, dobija se broj sekundi od početka epohe. Neka je ova vrednost TS. Pošto je nama bitno samo vreme, ali ne i datum, potrebno je prvo izračunati ostatak deljenja vrednosti TS brojem sekundi u jednom danu: 
NS = TS % 86400
NS je vreme u tekućem danu izraženo u sekundama. Sate, minute i sekunde izračunavamo na sledeći način:
HH = NS / 3600
MM =(NS %3600)/60
SS = NS % 60 
Dodatno, potrebno je izvršiti korekciju zbog vremenske zone, s obzirom da NTP daje vreme za zonu GMT. Naša vremenska zona je GMT + 1, dakle, HH = (HH + 1) % 24.
